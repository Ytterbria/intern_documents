*消息堆积的原因
1.消费者消费能力不足. 生产者速度远远大于消费者的处理速度,导致堆积
2.消费者宕机/链接断开, 导致队列消息无人消费,消息不断堆积
3.消息未ACK,rabbitMQ要等待消费者ack过后才把消息删除,如果始终没有收到ack
消息一直不被删除清理,也会导致积压
4.消息过大,导致热舞内存占满,转存到了磁盘,处理的速度降低,导致积压

*消息积压的表现: 
.队列消息数量持续增加 rabbitmqctl list_queues 可以看到messages_ready很大
.内存磁盘压力升高, rabbitMQ会出发流控 flow control,暂停生产者写入
.消费延迟明显增加,新消息很难及时投递给消费者

*处理机制
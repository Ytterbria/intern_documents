DNS (Domain Name System)
域名系统,把人类容易记方便理解的域名翻译成机器能识别的IP地址

当在浏览器输入 http://www.example.com

1. 浏览器缓存
浏览器先检查自己的DNS缓存,如果已经解析过这个域名,则直接用缓存的IP,如果没有,进入下一步

2. 操作系统缓存
浏览器会让操作系统查询本地缓存,一般写在host里,如果命中,直接返回IP,否则继续

3. 本地域名服务器(LDNS)
操作系统会把查询请求发送给本地域名服务器(一般由网络提供商ISP提供,或者自行配置,例如8.8.8.8)
如果有缓存,则直接返回IP

4.根域名服务器(Root Server)
如果LDNS没有结果,会去问根域名服务器,根RDNS 不会直接返回IP,会返回该域名下属的顶级域
例如.com是顶级域,则返回顶级域名服务器的IP

5.顶级域名服务器 (TLD) top-level-domain
顶级域名服务器会返回 该域名所归属的权威服务器的IP

6.权威DNS服务器(Authoritative DNS)
只有权威服务器知道域名对应的IP,把这个IP返回给LDNS,然后LDNS会缓存起来,再返回给操作系统
操作系统给浏览器,浏览器才能用真正的IP去发起HTTP请求

CDN(Content Delivery NetWork)
在DNS解析时,CDN只能调度系统会根据用户的位置返回一个距离用户最近的节点IP
而对CDN发起请求后,同样是基于源站的缓存机制,如果资源(HTML,CSS,JS等静态资源)
有缓存,则直接返回,否则向源站请求资源. 以后其他人也可以直接用到缓存

